(function(){var g;var d=function d(){};var b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"];var c=b.length;var a=(window.console=window.console||{});while(c--){g=b[c];if(!a[g]){a[g]=d}}var e=$(window);$(".bs-docs-sidenav").affix({offset:{top:function(){return e.width()<=980?290:210},bottom:270}});$.get("tmpl/_ipara.tmpl.htm",function(h){$("body").append(h)});if(typeof sessionStorage.manterFiltro==="undefined"||sessionStorage.manterFiltro==="false"){sessionStorage.categoria=0}$("body").append('<div id="fb-root"></div>');(function(k,h,l){var j,i=k.getElementsByTagName(h)[0];if(k.getElementById(l)){return}j=k.createElement(h);j.id=l;j.src="//connect.facebook.net/pt_BR/all.js#xfbml=1&appId=248204328585913";i.parentNode.insertBefore(j,i)}(document,"script","facebook-jssdk"));var f=[["_setAccount",conf.googleAnalytics],["_trackPageview"]];(function(k,h){var j=k.createElement(h),i=k.getElementsByTagName(h)[0];j.src=("https:"==location.protocol?"//ssl":"//www")+".google-analytics.com/ga.js";i.parentNode.insertBefore(j,i)}(document,"script"));!function(k,h,l){var j,i=k.getElementsByTagName(h)[0];if(!k.getElementById(l)){j=k.createElement(h);j.id=l;j.src="//platform.twitter.com/widgets.js";i.parentNode.insertBefore(j,i)}}(document,"script","twitter-wjs");$.ajaxSetup({cache:false})}());var ipara={};(function(){ipara.getUserId=function(){return $.ajax({url:"http://www.ipara.com.br/iParaServices/usuario/"+conf.usuario+"?format=json",crossDomain:true,async:false,dataType:"jsonp"})};ipara.getTotalAnuncios=function(){if(sessionStorage.categoria!=0){return $.ajax({url:"http://redepara.cloudapp.net:82/produtos/total/"+conf.email+"/"+sessionStorage.categoria+"?format=json",crossDomain:true,async:false,dataType:"jsonp"})}else{return $.ajax({url:"http://redepara.cloudapp.net:82/produtos/total/"+conf.email+"/?format=json",crossDomain:true,async:false,dataType:"jsonp"})}};ipara.carregaDestaques=function(){var a=ipara.getUserId();a.success(function(b){$.ajax({url:"http://redepara.cloudapp.net:82/produtos/destaque/"+conf.email+"?format=json",crossDomain:true,async:false,dataType:"jsonp",success:function(h){var d='<div class="carousel-inner"></div><a class="left carousel-control" href="#iparaCarousel" data-slide="prev">&laquo;</a><a class="right carousel-control" href="#iparaCarousel" data-slide="next">&raquo;</a>';$("#iparaCarousel").html(d);for(var g=0,e=h.length;g<e;g++){var f=h[g].descricao;var k=document.createElement("div");k.innerHTML=f;var c=k.textContent||k.innerText||"";h[g].descricao=c;$("#destaquesCarouselItemTmpl").tmpl(h[g]).appendTo("#iparaCarousel .carousel-inner")}$("#iparaCarousel .carousel-inner .item:first").addClass("active")}})})};ipara.carregaRecentes=function(){var a=ipara.getUserId();a.success(function(b){$.ajax({url:"http://redepara.cloudapp.net:82/produtos/"+conf.email+"/1/"+conf.qtdeOfertasRecentes+"?format=json",crossDomain:true,async:false,dataType:"jsonp",success:function(e){for(var d=0,c=e.length;d<c;d++){if(((conf.qtdeOfertasRecentes-d)%6)===0){$(".recentes").parent().append('<ul class="thumbnails recentes"></ul>');$("#recentesItemTmpl").tmpl(e[d]).appendTo(".recentes:last")}else{$("#recentesItemTmpl").tmpl(e[d]).appendTo(".recentes:last")}}}})})};ipara.carregaListar=function(){var b='<h3></h3><hr/><div class="pagination"><ul class="paginator"></ul></div><div class="row"></div><div class="pagination"><ul class="paginator"></ul></div>';$(".iparaListar").html("").append(b);var a=ipara.getTotalAnuncios();a.success(function(c){$(".iparaListar h3").html(c+" ofertas encontradas");$(".paginator").paging(c,{format:"[< ncnnn! >]",perpage:conf.anunciosPorPagina,lapping:0,fill:"...",page:1,onSelect:function(d){var e=(this.slice[0]/conf.anunciosPorPagina)+1;if(sessionStorage.categoria!=0){url="http://redepara.cloudapp.net:82/produtos/"+conf.email+"/"+sessionStorage.categoria+"/"+e+"/"+conf.anunciosPorPagina+"?format=json"}else{url="http://redepara.cloudapp.net:82/produtos/"+conf.email+"/"+e+"/"+conf.anunciosPorPagina+"?format=json"}$.ajax({url:url,crossDomain:true,async:false,dataType:"jsonp",cache:false,beforeSend:function(){$(".iparaListar .row").html("")},success:function(l){for(var k=0,g=l.length;k<g;k++){var h=$("<span />",{html:l[k].descricao}).text();var f=h.replace(/(<([^>]+)>)/ig,"");l[k].descricao=f.substr(0,456)+"...";$("#listarItemTmpl").tmpl(l[k]).appendTo(".iparaListar .row")}},complete:function(){sessionStorage.manterFiltro=false}})},onFormat:formatPagination})})};ipara.carregaFiltros=function(){$.ajax({url:"http://redepara.cloudapp.net:82/produtos/filtro/"+conf.email+"?format=json",crossDomain:true,async:false,dataType:"jsonp",beforeSend:function(){$(".filtroListar").html("");var a="<div class='btn-toolbar'><div class='btn-group' id='dropSubcategoria'><button class='btn btn-large dropdown-toggle' data-toggle='dropdown'><span class='drop-label'>Tipo</span> <span class='caret'></span></button><ul class='dropdown-menu'></ul></div></div>";$(".filtroListar").append(a)},success:function(b){for(var c=0,a=b.length;c<a;c++){b[c].id=b[c].valor;b[c].label=b[c].rotulo;b[c].group=b[c].chave;$("#dropdownItemTmpl").tmpl(b[c]).appendTo(".filtroListar .btn-toolbar #dropSubcategoria ul")}$('<div class="btn-group"><button type="button" class="btn btn-primary btn-large btnFiltrar">Filtrar</button></div>').appendTo(".filtroListar .btn-toolbar");$(".btnFiltrar").live("click",function(){if($(this).parent().parent().parent().hasClass("post")){location.href="listar.html"}ipara.carregaListar()});$("ul.dropdown-menu li a").live("click",function(){sessionStorage.manterFiltro=true;$(this).parent().parent().parent().find("button span.drop-label").html($(this).html());sessionStorage[$(this).data("group").toString()]=$(this).data("id")})}})};ipara.carregaDetalhes=function(a){$.ajax({url:"http://redepara.cloudapp.net:82/produto/"+a+"?format=json",crossDomain:true,async:false,dataType:"jsonp",success:function(e){if($(".iparaDetalhes .fotosAnuncio").length>0){$(".fotosAnuncio img").live("click",function(){$("#galeriaDeFotos a:first").click()});var b='<div class="carousel-inner"></div><a class="left carousel-control" href="#fotosAnuncio" data-slide="prev">&laquo;</a><a class="right carousel-control" href="#fotosAnuncio" data-slide="next">&raquo;</a>';$(".iparaDetalhes .fotosAnuncio").css("width",$(".iparaDetalhes .fotosAnuncio").data("maxwidth")+"px").html(b);var f=document.createElement("div");f.setAttribute("id","galeriaDeFotos");$("body").append(f);for(var d=0,c=e.imagens.length;d<c;d++){e.imagens[d].path=e.imagens[d].url;e.imagens[d].maxWidth=$(".iparaDetalhes .fotosAnuncio").data("maxwidth");e.imagens[d].maxHeight=$(".iparaDetalhes .fotosAnuncio").data("maxheight");$("#sliderFotosTmpl").tmpl(e.imagens[d]).appendTo(".iparaDetalhes .fotosAnuncio .carousel-inner");$("#galeriaFotosItemTmpl").tmpl(e.imagens[d]).appendTo("#galeriaDeFotos")}$(".iparaDetalhes .fotosAnuncio .carousel-inner .item:first").addClass("active")}if($(".iparaDetalhes .contatos").length>0){$(".iparaDetalhes .contatos").html($("#contatosTmpl").tmpl({titulo:"Fale Conosco",fone:conf.fonePrincipal,twitter:conf.twitter,facebook:conf.facebook,email:conf.email}))}if($(".iparaDetalhes .infoAnuncio").length>0){e.descricao=$("<span />",{html:e.descricao}).text();for(var c=0;c<e.composicao.length;c++){if(e.composicao[c]!==undefined&&e.composicao[c].valor!==undefined){e.valor=e.composicao[c].valor===0?"Preço à combinar.":"R$"+float2moeda(e.composicao[c].valor)}}$("#infoAnuncioTmpl").tmpl(e).appendTo(".iparaDetalhes .infoAnuncio")}}})}})();if($("#iparaCarousel").length>0){ipara.carregaDestaques()}if($(".iparaListar").length>0){ipara.carregaListar()}if($(".filtroListar").length>0){ipara.carregaFiltros()}if($(".iparaDetalhes").length>0){var idAnuncio=getQueryString()["id"];ipara.carregaDetalhes(idAnuncio)}if($(".recentes").length>0){ipara.carregaRecentes()}$(window).load(function(){if($("a[rel^='prettyPhoto']").length>0){$("a[rel^='prettyPhoto']").prettyPhoto()}twttr.widgets.load();var a=ipara.getUserId();a.success(function(b){$.ajax({url:"http://www.ipara.com.br/iparaServices/servicos/"+b.UserId+"?format=json",crossDomain:true,async:false,dataType:"jsonp",success:function(c){for(var e=0,d=c.length;e<d;e++){if(c[e].id_servico==="1"&&c[e].status==="True"){$(".chat").live("click",function(){$("#chat-box-header").trigger("click")});LCSKChat.config({opId:b.UserId,headerBackgroundColor:chat.headerBackgroundColor,headerTextColor:chat.headerTextColor,headerBorderColor:chat.headerBorderColor,headerGradientStart:chat.headerGradientStart,headerGradientEnd:chat.headerGradientEnd,boxBorderColor:chat.boxBorderColor});LCSKChat.init()}}}})})});function formatPagination(a){switch(a){case"block":if(this.value==this.page){return'<li class="active"><a href="#listar">'+this.value+"</a></li>"}if(!this.active){return""}return'<li class="disable"><a href="#listar">'+this.value+"</a></li>";case"next":if(this.active){return'<li class="disable"><a href="#listar">Próximo</a></li>'}return'<li class="active"><a href="#listar">Próximo</a></li>';case"prev":if(this.active){return'<li class="disable"><a href="#listar">Anterior</a></li>'}return'<li class="active"><a href="#listar">Anterior</a></li>';case"first":if(this.active){return'<li class="disable"><a href="#listar">Primeiro</a></li>'}return'<li class="active"><a href="#listar">Primeiro</a></li>';case"last":if(this.active){return'<li class="disable"><a href="#listar">Último</a></li>'}return'<li class="active"><a href="#listar">Último</a></li>'}}function getQueryString(){var b={},d=location.search.substring(1),c=/([^&=]+)=([^&]*)/g,a;while(a=c.exec(d)){b[decodeURIComponent(a[1])]=decodeURIComponent(a[2])}return b}function dataAtual(){var c=new Date();var a=((c.getMonth().length+1)===1)?(c.getMonth()+1):"0"+(c.getMonth()+1);var b=c.getDate()+"/"+a+"/"+c.getFullYear();return b}$.fn.serializeObject=function(){var c={};var b=this.serializeArray();$.each(b,function(){if(c[this.name]!==undefined){if(!c[this.name].push){c[this.name]=[c[this.name]]}c[this.name].push(this.value||"")}else{c[this.name]=this.value||""}});return c};function float2moeda(a){x=0;if(a<0){a=Math.abs(a);x=1}if(isNaN(a)){a="0"}cents=Math.floor((a*100+0.5)%100);a=Math.floor((a*100+0.5)/100).toString();if(cents<10){cents="0"+cents}for(var b=0;b<Math.floor((a.length-(1+b))/3);b++){a=a.substring(0,a.length-(4*b+3))+"."+a.substring(a.length-(4*b+3))}ret=a+","+cents;if(x==1){ret=" - "+ret}return ret};