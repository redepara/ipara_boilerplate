(function(a){jQuery.fn.filterByText=function(b,c){return this.each(function(){var d=this;var e=[];a(d).find("option").each(function(){e.push({value:a(this).val(),text:a(this).text()})});a(d).data("options",e);a(b).bind("change keyup",function(){var f=a(d).empty().data("options");var g=a(this).val().trim();var h=new RegExp(g,"gi");a.each(f,function(j){var k=f[j];if(k.text.match(h)!==null){a(d).append(a("<option>").text(k.text).val(k.value))}});if(c===true&&a(d).children().length===1){a(d).children().get(0).selected=true}})})}})(jQuery);